#===== Config file containing samples ==========================================
# This gets appended to config

# Project name to use for naming summary files
PROJ:
    "SRR1736063"
    
SEQ_DATE:
  "180730"

# Directories containing fastq files, this can be a relative path.
# Multiple directories can be provided. The sample names must correspond
# to the begining of the fastq name.
RAW_DATA:
    - "/beevol/home/erickson/Human/NetSeq/SRR1736063_mNET_CMA603_siLuc/fastqs"

# Genome to use for analysis
# * The specified genome must have a config file present in pipelines/ref
GENOME:
    "hg38"
 
# The sample names must match the beginning of a fastq file in one of the
# directories listed under RAW_DATA. If the sample name
# matches multiple fastqs, an error will be thrown.
# If samples have a input pair with a spikeIN list together
# subsampling works on samples within a group
# nicknames will be used for bw and matrix/plots names
#
# SAMPLES:
#     SECTION-1:
#         SAMPLING-GROUP-1: # subsample norm example
#             sample_nickname-1:
#                  - "fastq_sample_1_prefix"
#             sample_nickname-2:
#                  - "fastq_sample_2_prefix"
# 
#         SAMPLING-GROUP-2: # with input for OR norm example
#             sample_nickname-3:
#                  - "fastq_sample_3_prefix"
#                  - "fastq_input_3_prefix"
#             sample_nickname-4:
#                  - "fastq_sample_4_prefix"
#                  - "fastq_input_4_prefix"
# 
#     SECTION-2:
#         ...
#

SAMPLES:
    SECTION-1:
        SAMPLING-GROUP-1:
            8WG16_rep1: 
              - "SRR1544602_8WG16_rep1"

        SAMPLING-GROUP-2:
            CM603_DMSO: 
              - "SRR1736059_anti_Ser5-P_CM603_DMSO"
            8WG16_rep2: 
              - "SRR1544602_8WG16_rep2"
            
# set colors for bw urls and table files, if missing 0,0,0 is default
COLORS:
  - "0,0,0"       # - Black
  - "225,0,0"     # - Bright red
  - "0,225,0"     # - Bright green
  - "0,0,225"     # - Bright blue
  - "255,127,0"   # - Orange
  - "177,89,40"   # - Brown
  - "106,61,154"  # - Purple
  - "255,55,153"  # - Hot pink/magenta
  - "166,206,22"  # - Lime green/yellow-green
  - "31,120,180"  # - Steel blue
  - "251,154,153" # - Light pink/salmon pink
  - "178,223,138" # - Light green/pale green
  - "51,160,44"   # - Forest green 
  - "227,26,28"   # - Red
  - "253,191,111" # - Light orange/peach
  - "202,178,214" # - Light purple/lavender

  
# program options
# HiSeq 1T     dupedist=40 (BC...XX)
# HiSeq 2500   dupedist=40 (AM...XX, BC...XX)
# HiSeq 3k/4k  dupedist=2500 (AC...XX, AN...XX)
# Novaseq      dupedist=12000
CMD_PARAMS:
    clumpify:      
      paired: " overwrite=t dedupe=t dupedist=12000 optical=f " # PE settings
      single: " overwrite=t dedupe=t dupedist=40 optical=f " #  SE settings
    bbduk:      
      paired: " overwrite=t ftm=5 minlen=50 ktrim=r k=23 hdist=1 mink=11 tpe tbo ecco=t " # PE settings
      single: " overwrite=t ftm=5 minlen=20 ktrim=r k=23 hdist=1 mink=11 " # SE settings
    bowtie2:      
      paired:  " --end-to-end --very-sensitive --no-mixed --no-discordant " # -k2 all but 1 multi-mapper from -k will be filtered out.
      single:  " --end-to-end --very-sensitive " # -k2 all but 1 multi-mapper from -k will be filtered out.
    samtools:      " -bF4q10 "
    bamCoverage:   " --binSize 1 --skipNonCoveredRegions --Offset -1 " # --Offset -1 = last bp --Offset 1 = first bp
    fragment_size: 
      paired:  " --maxFragmentLength 1000 "
      single:  " bin=10 max=1010 "
    featureCounts: " --readExtension5 2000 --readExtension3 2000 " #--largestOverlap
    filter_results: "protein_coding"
    
# sandbox User #
USER:
  "User7"

# Norm sample bw and matix files, spike-in is CPM      
# with "RPKM","CPM","BPM","RPGC" 
# Or with scaleFactor from count file i.e. "chrM", 
# if input with spike in is paired up: "OR", "OR_enrich" 
# if no input spike in scaleFactor within a group is used: "spikin" 
# Or "subsample" : make bw and matix files from sub-sampled bam files (paired groups)
NORM:
  "subsample" 
# set orentation of fastq files, can list one for each file    
ORIENTATION:
    "R1" # R1, R2, 

# a fasta file with the universal adaptors or literal strings
# "pipelines/ref/truseq_i5i7.fa"
# "pipelines/ref/truseq_rna.fa"
# "GATCGGAAGAGCACACGTCT,ACACTCTTTCCCTACACGACGCTCTTCCGATCT"
BARCODES:
    "GATCGGAAGAGCACACGTCT,ACACTCTTTCCCTACACGACGCTCTTCCGATCT"

# which matrix type(s) to make
# deeptools options set in Stranded_matrix.yaml
# can only to be "543", "5", "3", "PI", or "EI" 
REGIONS:
  - "5"
# valid options = "sense", "anti"
SENSE_ASENSE:
  - "sense"
  - "anti"

CONTAINER:
    "docker://bberickson/bodhi-snakemake:v1.1.0"
    
## Additional common parameters for various processing steps
#### Cutadapt ####
# --pair-filter=first - read filtering decisions are made based solely on R1
# --dicard-untrimmed  - remove reads that do not contain an adapter
# --minimum-length    - remove reads that are shorter than given value
# -O                  - minimum overlap to trim adapter
# -a                  - adapter sequence for R1
# -A                  - adapter sequence for R2
#
# umi tools
# --method unique     - only remove read if the UMI sequence is an exact match
# --read-length       - use read length when removing duplicates
#
# featureCounts
# -s 0                - strandedness for read assignment; 0, unstranded
# -t gene             - feature type for counting
# -O                  - count if aligned to multiple features
### Bowtie2 ###
# 
# --end-to-end       entire read must align; no clipping (on)
# OR
# --local            local alignment; ends might be soft clipped (off)
# Presets:                 Same as:
#   For --end-to-end:
#   --very-fast            -D 5 -R 1 -N 0 -L 22 -i S,0,2.50
#   --fast                 -D 10 -R 2 -N 0 -L 22 -i S,0,2.50
#   --sensitive            -D 15 -R 2 -N 0 -L 22 -i S,1,1.15 (default)
#   --very-sensitive       -D 20 -R 3 -N 0 -L 20 -i S,1,0.50
# 
# For --local:
#   --very-fast-local      -D 5 -R 1 -N 0 -L 25 -i S,1,2.00
#   --fast-local           -D 10 -R 2 -N 0 -L 22 -i S,1,1.75
#   --sensitive-local      -D 15 -R 2 -N 0 -L 20 -i S,1,0.75 (default)
#   --very-sensitive-local -D 20 -R 3 -N 0 -L 20 -i S,1,0.50
####bamCoverage#####
# --binSize INT 
#                   Size of the bins, in bases, for the output of the bigwig/bedgraph file. (Default: 50)
#                   Read coverage normalization options:
# --effectiveGenomeSize EFFECTIVEGENOMESIZE
#                  The effective genome size is the portion of the genome that is mappable. (default: None)
# --normalizeUsing {RPKM,CPM,BPM,RPGC,None}
#                  (Default: None)
# --ignoreForNormalization IGNOREFORNORMALIZATION [IGNOREFORNORMALIZATION ...]
#                  A list of space-delimited chromosome names containing those chromosomes that should be excluded for computing the normalization. 
#                  example: --ignoreForNormalization chrX chrM. (default: None)
# --skipNonCoveredRegions, --skipNAs
#                  This parameter determines if non-covered regions. The default is to treat those regions as having a value of zero. (default: False)
# --smoothLength INT bp
#                  The smooth length defines a window, larger than the binSize, to average the number of reads. 
#                  example: --binSize is set to 20 and the --smoothLength is set to 60, (default: None)
# 
# Read processing options:
#   ---ignoreDuplicates    
#                        reads with same orientation and start will be considered only once. paired: the mate's position considered. (default: False)
#   --minMappingQuality INT
#                         If set, only reads that have a mapping quality score of at least this are considered. (default: None)
#   --centerReads         
#                         Centered with respect to the fragment length.  (default: False)
#   --samFlagInclude INT  
#                         Include reads based on the SAM flag.  (Default: None)
#   --samFlagExclude INT  
#                         Exclude reads based on the SAM flag. (Default: None)
#   --minFragmentLength INT
#                         The minimum fragment length needed for read/pair inclusion. (Default: 0)
#   --maxFragmentLength INT
#                         The maximum fragment length needed for read/pair inclusion. (Default: 0)
