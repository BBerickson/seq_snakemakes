#===== Config file containing samples ==========================================
# This gets appended to config

# Project name to use for naming summary files
PROJ:
    "SRR1736063"
    
SEQ_DATE:
  "180730"

# Directories containing fastq files, this can be a relative path.
# Multiple directories can be provided. The sample names must correspond
# to the begining of the fastq name.
RAW_DATA:
    - "/beevol/home/erickson/fastqs/fastqs"

# Sample groups, samples in a group will be subsampled to the smallest sample 
# The sample names must match the beginning of a fastq file in one of the
# directories listed under RAW_DATA. If the sample name
# matches multiple fastqs, an error will be thrown.
#
# group-name-1:
#     - "sample_1_file_prefix"
#     - "treatment_1_file_prefix"
#
# group-name-2:
#     - "sample_2_file_prefix"
#     - "treatment_2_file_prefix"
#
SAMPLES:
    rep1-r1:
        - "SRR1544602_8WG16_rep1"
    rep1-r2:
        - "SRR1736059_anti_Ser5-P_CM603_DMSO"
        - "SRR1544602_8WG16_rep2"

# Base memory to request for each rule
# The acutal amount requested will be higher for rules that generally
# require more memory
# A value of 8 will result in rules requesting between 8Gb - 32Gb of
# request ~2Gb/GB of fastq.gz file
# memory
MEMORY:
    32

# set colors for bw urls and table files, if missing 0,0,0 is default
# COLORS:
#  - "225,0,0"
#  - "0,225,0"
#  - "0,0,225"
COLORS:
  - "0,0,0"
  - "225,0,0"
  - "0,225,0"
  - "0,0,225"
  
# program options  
CMD_PARAMS:
    clumpify:      " overwrite=t dedupe=t dupedist=2500 optical=f "
    bbduk:         " overwrite=t ftm=5 minlen=15 ktrim=r k=23 hdist=1 mink=11 tpe tbo ecco=t "
    bowtie2:       " --end-to-end --no-mixed --no-discordant "
    samtools:      " -bF4q30 "
    bamCoverage:   " --binSize 1 --normalizeUsing None --skipNonCoveredRegions --Offset -1 " # --Offset -1 = 3' --Offset 1 = 5'
    bamCoverageBL: "" # " --blackListFileName /beevol/home/erickson/ref/hg38/ref/merge_filter_RNAs.bed "
    bamCoveragef:  " reverse " # R2-R1 = forward R1-R2 = reverse
    bamCoverager:  " forward " # R2-R1 = reverse R1-R2 = forward
    
# sandbox User #
USER:
  "User7"

# "subsample" or "" ... make bw and matix files from sub-sampled or normal bam files
NORM:
  "subsample"
  
# file suffix
#   ".fq.gz"
#   ".fastq.gz"
SFX:
  ".fastq.gz"

# barcode = illumina seq file
#   CCATTGTT=AATGATACGGCGACCACCGAGATCTACACAACAATGGACACTCTTTCCCTACACGACGCTCTTCCGA
#   CTACTTGT=CAAGCAGAAGACGGCATACGAGATACAAGTAGGTGACTGGAGTTCAGACGTGTGCTCTTCCGA

# TruSeq_Universal_Adapters 
#   GATCGGAAGAGCACACGTCT,ACACTCTTTCCCTACACGACGCTCTTCCGATCT
# BARCODES:
    # "GATCGGAAGAGCACACGTCT,ACACTCTTTCCCTACACGACGCTCTTCCGATCT"
    
BARCODES:
    "GATCGGAAGAGCACACGTCT,ACACTCTTTCCCTACACGACGCTCTTCCGATCT"
    
## Additional common parameters for various processing steps
#### Cutadapt ####
# --pair-filter=first - read filtering decisions are made based solely on R1
# --dicard-untrimmed  - remove reads that do not contain an adapter
# --minimum-length    - remove reads that are shorter than given value
# -O                  - minimum overlap to trim adapter
# -a                  - adapter sequence for R1
# -A                  - adapter sequence for R2
#
# umi tools
# --method unique     - only remove read if the UMI sequence is an exact match
# --read-length       - use read length when removing duplicates
#
# featureCounts
# -s 0                - strandedness for read assignment; 0, unstranded
# -t gene             - feature type for counting
# -O                  - count if aligned to multiple features
### Bowtie2 ###
# 
# --end-to-end       entire read must align; no clipping (on)
# OR
# --local            local alignment; ends might be soft clipped (off)
# Presets:                 Same as:
#   For --end-to-end:
#   --very-fast            -D 5 -R 1 -N 0 -L 22 -i S,0,2.50
#   --fast                 -D 10 -R 2 -N 0 -L 22 -i S,0,2.50
#   --sensitive            -D 15 -R 2 -N 0 -L 22 -i S,1,1.15 (default)
#   --very-sensitive       -D 20 -R 3 -N 0 -L 20 -i S,1,0.50
# 
# For --local:
#   --very-fast-local      -D 5 -R 1 -N 0 -L 25 -i S,1,2.00
#   --fast-local           -D 10 -R 2 -N 0 -L 22 -i S,1,1.75
#   --sensitive-local      -D 15 -R 2 -N 0 -L 20 -i S,1,0.75 (default)
#   --very-sensitive-local -D 20 -R 3 -N 0 -L 20 -i S,1,0.50
####bamCoverage#####
# --binSize INT 
#                   Size of the bins, in bases, for the output of the bigwig/bedgraph file. (Default: 50)
#                   Read coverage normalization options:
# --effectiveGenomeSize EFFECTIVEGENOMESIZE
#                  The effective genome size is the portion of the genome that is mappable. (default: None)
# --normalizeUsing {RPKM,CPM,BPM,RPGC,None}
#                  (Default: None)
# --ignoreForNormalization IGNOREFORNORMALIZATION [IGNOREFORNORMALIZATION ...]
#                  A list of space-delimited chromosome names containing those chromosomes that should be excluded for computing the normalization. 
#                  example: --ignoreForNormalization chrX chrM. (default: None)
# --skipNonCoveredRegions, --skipNAs
#                  This parameter determines if non-covered regions. The default is to treat those regions as having a value of zero. (default: False)
# --smoothLength INT bp
#                  The smooth length defines a window, larger than the binSize, to average the number of reads. 
#                  example: --binSize is set to 20 and the --smoothLength is set to 60, (default: None)
# 
# Read processing options:
#   ---ignoreDuplicates    
#                        reads with same orientation and start will be considered only once. paired: the mate's position considered. (default: False)
#   --minMappingQuality INT
#                         If set, only reads that have a mapping quality score of at least this are considered. (default: None)
#   --centerReads         
#                         Centered with respect to the fragment length.  (default: False)
#   --samFlagInclude INT  
#                         Include reads based on the SAM flag.  (Default: None)
#   --samFlagExclude INT  
#                         Exclude reads based on the SAM flag. (Default: None)
#   --minFragmentLength INT
#                         The minimum fragment length needed for read/pair inclusion. (Default: 0)
#   --maxFragmentLength INT
#                         The maximum fragment length needed for read/pair inclusion. (Default: 0)
    