Building DAG of jobs...
The code used to generate one or several output files has changed:
    To inspect which output files have changes, run 'snakemake --list-code-changes'.
    To trigger a re-run, use 'snakemake -R $(snakemake --list-code-changes)'.
The input used to generate one or several output files has changed:
    To inspect which output files have changes, run 'snakemake --list-input-changes'.
    To trigger a re-run, use 'snakemake -R $(snakemake --list-input-changes)'.
The params used to generate one or several output files has changed:
    To inspect which output files have changes, run 'snakemake --list-params-changes'.
    To trigger a re-run, use 'snakemake -R $(snakemake --list-params-changes)'.
Using shell: /usr/bin/bash
Provided cluster nodes: 100
Job stats:
job                    count    min threads    max threads
-------------------  -------  -------------  -------------
all                        1              1              1
create_plots               1              1              1
gene_subsample_test        7              1              1
total                      9              1              1

Select jobs to execute...

[Tue Aug  1 12:10:59 2023]
Job 230: Testing subsampling for xrn2-r4 gene

Submitted DRMAA job 230 with external jobid 155123.

[Tue Aug  1 12:11:00 2023]
Job 204: Testing subsampling for xrn2-r2 tss

Submitted DRMAA job 204 with external jobid 155124.

[Tue Aug  1 12:11:00 2023]
Job 227: Testing subsampling for xrn2-r3 gene

Submitted DRMAA job 227 with external jobid 155125.

[Tue Aug  1 12:11:00 2023]
Job 224: Testing subsampling for xrn2-r2 gene

Submitted DRMAA job 224 with external jobid 155126.

[Tue Aug  1 12:11:00 2023]
Job 226: Testing subsampling for xrn2-r3 body

Submitted DRMAA job 226 with external jobid 155127.

[Tue Aug  1 12:11:00 2023]
Job 228: Testing subsampling for xrn2-r4 tss

Submitted DRMAA job 228 with external jobid 155128.

[Tue Aug  1 12:11:01 2023]
Job 225: Testing subsampling for xrn2-r3 tss

Submitted DRMAA job 225 with external jobid 155129.

[Tue Aug  1 12:11:01 2023]
Job 269: Creating plots for Xrn2 project

Submitted DRMAA job 269 with external jobid 155130.
[Tue Aug  1 12:11:23 2023]
Error in rule create_plots:
    jobid: 269
    output: Xrn2/Xrn2_analysis.html
    log: Xrn2/logs/Xrn2_plots.out, Xrn2/logs/Xrn2_plots.err (check log file(s) for error message)
    shell:
        
        Rmd=src/Rmds/analysis.Rmd
        script=src/Rmds/knit_rmd.R
        yml=pipeline/ref/hg38.yaml
        samp=samples.yaml

        Rscript $script             -i $Rmd             -p Xrn2             -y $yml             -s $samp
            -o Xrn2
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Error executing rule create_plots on cluster (jobid: 269, external: 155130, jobscript: /beevol/home/erickson/Ben_pipelines/snakemake_pipelines/NETseq_UMI_findPauses/.snakemake/tmp.8ohzrfxs/snakejob.create_plots.269.sh). For error details see the cluster log and the log files of the involved rule(s).
[Tue Aug  1 12:12:23 2023]
Error in rule gene_subsample_test:
    jobid: 230
    output: Xrn2/stats/xrn2-r4_gene_test.tsv
    log: Xrn2/logs/xrn2-r4_gene_test.out, Xrn2/logs/xrn2-r4_gene_test.err (check log file(s) for error message)
    shell:
        
        check_sampling() {
            local bgs=($1)
            local genes="$2"
            local out="$3"
        
            local test_res=${bgs[@]/%/.TEST}
        
            for bed in ${bgs[@]}
            do
                local res="$bed.TEST"
        
                zcat "$bed"                     | awk -v OFS="	" '{
                        $4 = $4 * ($3 - $2);
                        print
                    }'                     | bedtools map -a "$genes" -b - -c 4 -o sum                     | awk -v OFS="	" '$6 == "+" {gsub("\.", 0, $7); print}'                     > "$res"
            done
        
            local chk=$(md5sum ${test_res[@]} | sort -k1,1 -u | wc -l)
        
            rm ${test_res[@]}
        
            if [[ "$chk" == 1 ]]
            then
                local res='PASS'
            else
                local res='FAIL'
            fi
        
            for file in ${bgs[@]}
            do
                echo -e "$file	xrn2-r4	gene	$res"                     >> "$out"
            done
        }

        check_sampling "Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_gene_pos.bedgraph.gz" /beevol/home/erickson/ref/hg38/find_pauses/ref/GRCh38/base_lists/GRCh38_0ksep.bed.gz Xrn2/stats/xrn2-r4_gene_test.tsv
        check_sampling "Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_gene_neg.bedgraph.gz" /beevol/home/erickson/ref/hg38/find_pauses/ref/GRCh38/base_lists/GRCh38_0ksep.bed.gz Xrn2/stats/xrn2-r4_gene_test.tsv
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Error executing rule gene_subsample_test on cluster (jobid: 230, external: 155123, jobscript: /beevol/home/erickson/Ben_pipelines/snakemake_pipelines/NETseq_UMI_findPauses/.snakemake/tmp.8ohzrfxs/snakejob.gene_subsample_test.230.sh). For error details see the cluster log and the log files of the involved rule(s).
[Tue Aug  1 12:12:23 2023]
Error in rule gene_subsample_test:
    jobid: 204
    output: Xrn2/stats/xrn2-r2_tss_test.tsv
    log: Xrn2/logs/xrn2-r2_tss_test.out, Xrn2/logs/xrn2-r2_tss_test.err (check log file(s) for error message)
    shell:
        
        check_sampling() {
            local bgs=($1)
            local genes="$2"
            local out="$3"
        
            local test_res=${bgs[@]/%/.TEST}
        
            for bed in ${bgs[@]}
            do
                local res="$bed.TEST"
        
                zcat "$bed"                     | awk -v OFS="	" '{
                        $4 = $4 * ($3 - $2);
                        print
                    }'                     | bedtools map -a "$genes" -b - -c 4 -o sum                     | awk -v OFS="	" '$6 == "+" {gsub("\.", 0, $7); print}'                     > "$res"
            done
        
            local chk=$(md5sum ${test_res[@]} | sort -k1,1 -u | wc -l)
        
            rm ${test_res[@]}
        
            if [[ "$chk" == 1 ]]
            then
                local res='PASS'
            else
                local res='FAIL'
            fi
        
            for file in ${bgs[@]}
            do
                echo -e "$file	xrn2-r2	tss	$res"                     >> "$out"
            done
        }

        check_sampling "Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_gene_pos.bedgraph.gz" /beevol/home/erickson/ref/hg38/find_pauses/ref/GRCh38/base_lists/GRCh38_0ksep.bed.gz Xrn2/stats/xrn2-r2_tss_test.tsv
        check_sampling "Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_gene_neg.bedgraph.gz" /beevol/home/erickson/ref/hg38/find_pauses/ref/GRCh38/base_lists/GRCh38_0ksep.bed.gz Xrn2/stats/xrn2-r2_tss_test.tsv
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Error executing rule gene_subsample_test on cluster (jobid: 204, external: 155124, jobscript: /beevol/home/erickson/Ben_pipelines/snakemake_pipelines/NETseq_UMI_findPauses/.snakemake/tmp.8ohzrfxs/snakejob.gene_subsample_test.204.sh). For error details see the cluster log and the log files of the involved rule(s).
[Tue Aug  1 12:12:23 2023]
Error in rule gene_subsample_test:
    jobid: 227
    output: Xrn2/stats/xrn2-r3_gene_test.tsv
    log: Xrn2/logs/xrn2-r3_gene_test.out, Xrn2/logs/xrn2-r3_gene_test.err (check log file(s) for error message)
    shell:
        
        check_sampling() {
            local bgs=($1)
            local genes="$2"
            local out="$3"
        
            local test_res=${bgs[@]/%/.TEST}
        
            for bed in ${bgs[@]}
            do
                local res="$bed.TEST"
        
                zcat "$bed"                     | awk -v OFS="	" '{
                        $4 = $4 * ($3 - $2);
                        print
                    }'                     | bedtools map -a "$genes" -b - -c 4 -o sum                     | awk -v OFS="	" '$6 == "+" {gsub("\.", 0, $7); print}'                     > "$res"
            done
        
            local chk=$(md5sum ${test_res[@]} | sort -k1,1 -u | wc -l)
        
            rm ${test_res[@]}
        
            if [[ "$chk" == 1 ]]
            then
                local res='PASS'
            else
                local res='FAIL'
            fi
        
            for file in ${bgs[@]}
            do
                echo -e "$file	xrn2-r3	gene	$res"                     >> "$out"
            done
        }

        check_sampling "Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_gene_pos.bedgraph.gz" /beevol/home/erickson/ref/hg38/find_pauses/ref/GRCh38/base_lists/GRCh38_0ksep.bed.gz Xrn2/stats/xrn2-r3_gene_test.tsv
        check_sampling "Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_gene_neg.bedgraph.gz" /beevol/home/erickson/ref/hg38/find_pauses/ref/GRCh38/base_lists/GRCh38_0ksep.bed.gz Xrn2/stats/xrn2-r3_gene_test.tsv
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Error executing rule gene_subsample_test on cluster (jobid: 227, external: 155125, jobscript: /beevol/home/erickson/Ben_pipelines/snakemake_pipelines/NETseq_UMI_findPauses/.snakemake/tmp.8ohzrfxs/snakejob.gene_subsample_test.227.sh). For error details see the cluster log and the log files of the involved rule(s).
[Tue Aug  1 12:12:33 2023]
Error in rule gene_subsample_test:
    jobid: 224
    output: Xrn2/stats/xrn2-r2_gene_test.tsv
    log: Xrn2/logs/xrn2-r2_gene_test.out, Xrn2/logs/xrn2-r2_gene_test.err (check log file(s) for error message)
    shell:
        
        check_sampling() {
            local bgs=($1)
            local genes="$2"
            local out="$3"
        
            local test_res=${bgs[@]/%/.TEST}
        
            for bed in ${bgs[@]}
            do
                local res="$bed.TEST"
        
                zcat "$bed"                     | awk -v OFS="	" '{
                        $4 = $4 * ($3 - $2);
                        print
                    }'                     | bedtools map -a "$genes" -b - -c 4 -o sum                     | awk -v OFS="	" '$6 == "+" {gsub("\.", 0, $7); print}'                     > "$res"
            done
        
            local chk=$(md5sum ${test_res[@]} | sort -k1,1 -u | wc -l)
        
            rm ${test_res[@]}
        
            if [[ "$chk" == 1 ]]
            then
                local res='PASS'
            else
                local res='FAIL'
            fi
        
            for file in ${bgs[@]}
            do
                echo -e "$file	xrn2-r2	gene	$res"                     >> "$out"
            done
        }

        check_sampling "Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_gene_pos.bedgraph.gz" /beevol/home/erickson/ref/hg38/find_pauses/ref/GRCh38/base_lists/GRCh38_0ksep.bed.gz Xrn2/stats/xrn2-r2_gene_test.tsv
        check_sampling "Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_gene_neg.bedgraph.gz" /beevol/home/erickson/ref/hg38/find_pauses/ref/GRCh38/base_lists/GRCh38_0ksep.bed.gz Xrn2/stats/xrn2-r2_gene_test.tsv
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Error executing rule gene_subsample_test on cluster (jobid: 224, external: 155126, jobscript: /beevol/home/erickson/Ben_pipelines/snakemake_pipelines/NETseq_UMI_findPauses/.snakemake/tmp.8ohzrfxs/snakejob.gene_subsample_test.224.sh). For error details see the cluster log and the log files of the involved rule(s).
[Tue Aug  1 12:12:33 2023]
Error in rule gene_subsample_test:
    jobid: 228
    output: Xrn2/stats/xrn2-r4_tss_test.tsv
    log: Xrn2/logs/xrn2-r4_tss_test.out, Xrn2/logs/xrn2-r4_tss_test.err (check log file(s) for error message)
    shell:
        
        check_sampling() {
            local bgs=($1)
            local genes="$2"
            local out="$3"
        
            local test_res=${bgs[@]/%/.TEST}
        
            for bed in ${bgs[@]}
            do
                local res="$bed.TEST"
        
                zcat "$bed"                     | awk -v OFS="	" '{
                        $4 = $4 * ($3 - $2);
                        print
                    }'                     | bedtools map -a "$genes" -b - -c 4 -o sum                     | awk -v OFS="	" '$6 == "+" {gsub("\.", 0, $7); print}'                     > "$res"
            done
        
            local chk=$(md5sum ${test_res[@]} | sort -k1,1 -u | wc -l)
        
            rm ${test_res[@]}
        
            if [[ "$chk" == 1 ]]
            then
                local res='PASS'
            else
                local res='FAIL'
            fi
        
            for file in ${bgs[@]}
            do
                echo -e "$file	xrn2-r4	tss	$res"                     >> "$out"
            done
        }

        check_sampling "Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_gene_pos.bedgraph.gz" /beevol/home/erickson/ref/hg38/find_pauses/ref/GRCh38/base_lists/GRCh38_0ksep.bed.gz Xrn2/stats/xrn2-r4_tss_test.tsv
        check_sampling "Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_gene_neg.bedgraph.gz" /beevol/home/erickson/ref/hg38/find_pauses/ref/GRCh38/base_lists/GRCh38_0ksep.bed.gz Xrn2/stats/xrn2-r4_tss_test.tsv
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Error executing rule gene_subsample_test on cluster (jobid: 228, external: 155128, jobscript: /beevol/home/erickson/Ben_pipelines/snakemake_pipelines/NETseq_UMI_findPauses/.snakemake/tmp.8ohzrfxs/snakejob.gene_subsample_test.228.sh). For error details see the cluster log and the log files of the involved rule(s).
[Tue Aug  1 12:12:33 2023]
Error in rule gene_subsample_test:
    jobid: 225
    output: Xrn2/stats/xrn2-r3_tss_test.tsv
    log: Xrn2/logs/xrn2-r3_tss_test.out, Xrn2/logs/xrn2-r3_tss_test.err (check log file(s) for error message)
    shell:
        
        check_sampling() {
            local bgs=($1)
            local genes="$2"
            local out="$3"
        
            local test_res=${bgs[@]/%/.TEST}
        
            for bed in ${bgs[@]}
            do
                local res="$bed.TEST"
        
                zcat "$bed"                     | awk -v OFS="	" '{
                        $4 = $4 * ($3 - $2);
                        print
                    }'                     | bedtools map -a "$genes" -b - -c 4 -o sum                     | awk -v OFS="	" '$6 == "+" {gsub("\.", 0, $7); print}'                     > "$res"
            done
        
            local chk=$(md5sum ${test_res[@]} | sort -k1,1 -u | wc -l)
        
            rm ${test_res[@]}
        
            if [[ "$chk" == 1 ]]
            then
                local res='PASS'
            else
                local res='FAIL'
            fi
        
            for file in ${bgs[@]}
            do
                echo -e "$file	xrn2-r3	tss	$res"                     >> "$out"
            done
        }

        check_sampling "Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_gene_pos.bedgraph.gz" /beevol/home/erickson/ref/hg38/find_pauses/ref/GRCh38/base_lists/GRCh38_0ksep.bed.gz Xrn2/stats/xrn2-r3_tss_test.tsv
        check_sampling "Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_gene_neg.bedgraph.gz" /beevol/home/erickson/ref/hg38/find_pauses/ref/GRCh38/base_lists/GRCh38_0ksep.bed.gz Xrn2/stats/xrn2-r3_tss_test.tsv
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Error executing rule gene_subsample_test on cluster (jobid: 225, external: 155129, jobscript: /beevol/home/erickson/Ben_pipelines/snakemake_pipelines/NETseq_UMI_findPauses/.snakemake/tmp.8ohzrfxs/snakejob.gene_subsample_test.225.sh). For error details see the cluster log and the log files of the involved rule(s).
[Tue Aug  1 12:12:43 2023]
Error in rule gene_subsample_test:
    jobid: 226
    output: Xrn2/stats/xrn2-r3_body_test.tsv
    log: Xrn2/logs/xrn2-r3_body_test.out, Xrn2/logs/xrn2-r3_body_test.err (check log file(s) for error message)
    shell:
        
        check_sampling() {
            local bgs=($1)
            local genes="$2"
            local out="$3"
        
            local test_res=${bgs[@]/%/.TEST}
        
            for bed in ${bgs[@]}
            do
                local res="$bed.TEST"
        
                zcat "$bed"                     | awk -v OFS="	" '{
                        $4 = $4 * ($3 - $2);
                        print
                    }'                     | bedtools map -a "$genes" -b - -c 4 -o sum                     | awk -v OFS="	" '$6 == "+" {gsub("\.", 0, $7); print}'                     > "$res"
            done
        
            local chk=$(md5sum ${test_res[@]} | sort -k1,1 -u | wc -l)
        
            rm ${test_res[@]}
        
            if [[ "$chk" == 1 ]]
            then
                local res='PASS'
            else
                local res='FAIL'
            fi
        
            for file in ${bgs[@]}
            do
                echo -e "$file	xrn2-r3	body	$res"                     >> "$out"
            done
        }

        check_sampling "Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_gene_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_tss_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_body_pos.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_gene_pos.bedgraph.gz" /beevol/home/erickson/ref/hg38/find_pauses/ref/GRCh38/base_lists/GRCh38_0ksep.bed.gz Xrn2/stats/xrn2-r3_body_test.tsv
        check_sampling "Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R2_xrn2-r2_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R2_xrn2-r2_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R3_xrn2-r3_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R3_xrn2-r3_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_WT_R4_xrn2-r4_gene_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_tss_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_body_neg.bedgraph.gz Xrn2/bg/293flpin_Xrn2_MT_R4_xrn2-r4_gene_neg.bedgraph.gz" /beevol/home/erickson/ref/hg38/find_pauses/ref/GRCh38/base_lists/GRCh38_0ksep.bed.gz Xrn2/stats/xrn2-r3_body_test.tsv
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Error executing rule gene_subsample_test on cluster (jobid: 226, external: 155127, jobscript: /beevol/home/erickson/Ben_pipelines/snakemake_pipelines/NETseq_UMI_findPauses/.snakemake/tmp.8ohzrfxs/snakejob.gene_subsample_test.226.sh). For error details see the cluster log and the log files of the involved rule(s).
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
The code used to generate one or several output files has changed:
    To inspect which output files have changes, run 'snakemake --list-code-changes'.
    To trigger a re-run, use 'snakemake -R $(snakemake --list-code-changes)'.
The input used to generate one or several output files has changed:
    To inspect which output files have changes, run 'snakemake --list-input-changes'.
    To trigger a re-run, use 'snakemake -R $(snakemake --list-input-changes)'.
The params used to generate one or several output files has changed:
    To inspect which output files have changes, run 'snakemake --list-params-changes'.
    To trigger a re-run, use 'snakemake -R $(snakemake --list-params-changes)'.
Complete log: /beevol/home/erickson/Ben_pipelines/snakemake_pipelines/NETseq_UMI_findPauses/.snakemake/log/2023-08-01T121036.581840.snakemake.log
