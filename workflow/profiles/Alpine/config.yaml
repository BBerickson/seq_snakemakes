# Slurm cluster profile for Snakemake
# Usage: snakemake --profile profiles/Alpine

# Job submission settings
jobs: 100
latency-wait: 60

# Singularity settings
use-singularity: true
singularity-args: "--bind /scratch,/data"

# Slurm cluster configuration
cluster: >
  sbatch
  --output={log.out}
  --error={log.err}
  --job-name={params.job_name}
  --cpus-per-task={threads}
  --mem={resources.memory}G

# Restart failed jobs
retries: 1
restart-times: 1

# Keep going if some jobs fail
keep-going: false

# Minimal output
printshellcmds: false    # Don't print shell commands (set true for debugging)
reason: false            # Don't explain why each rule runs
show-failed-logs: true   # Still show errors

# Selective quieting (alternative to quiet: true)
# quiet: ["progress", "rules"]  # Suppress specific message types

# Rerun incomplete jobs
rerun-incomplete: true
